using System;
using System.Runtime.InteropServices;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace SimpleRBM.Test
{
    [TestClass]
    public class UnitTest2
    {

        float[] _data = new float[]
        {
            461894.5f
            , 153563.6f
            , 118044.4f
            , 136852.7f
            , 188930.7f
            , 129915f
            , 144961.6f
            , 181053.6f
            , 134828f
            , 120458.2f
            , 133476.5f
            , 118258f
            , 94149.58f
            , 93964.34f
            , 93501.84f
            , 90374.91f
            , 110407.1f
            , 87273.45f
            , 77473.05f
            , 78741.09f
            , 73860.24f
            , 75800.88f
            , 69449.09f
            , 69348.91f
            , 67193.16f
            , 69573.92f
            , 63054.13f
            , 62323.67f
            , 61490.14f
            , 62589.44f
            , 59697.81f
            , 60635.09f
            , 57990.51f
            , 58905.8f
            , 56860.99f
            , 57675.92f
            , 56490.01f
            , 57113.92f
            , 56697.43f
            , 55653.66f
            , 55503.69f
            , 53250.41f
            , 53176.27f
            , 51805.23f
            , 52317.25f
            , 50591.77f
            , 51315.69f
            , 49448.33f
            , 49783.27f
            , 48117.63f
            , 48602.73f
            , 47351.82f
            , 47692.2f
            , 46466.98f
            , 46718.52f
            , 45826.25f
            , 46254.71f
            , 45633.96f
            , 45767.4f
            , 45089.38f
            , 45346.32f
            , 44964.34f
            , 44633.57f
            , 44099.1f
            , 43522.79f
            , 42952.74f
            , 42476.71f
            , 42379.68f
            , 41808.32f
            , 41807.25f
            , 41347.87f
            , 41457.13f
            , 41145.53f
            , 41276.9f
            , 40996.56f
            , 41079.72f
            , 40465.47f
            , 40301.12f
            , 39757.22f
            , 39702.9f
            , 39032.09f
            , 38804.13f
            , 38315.01f
            , 38212.25f
            , 37863.54f
            , 37708.65f
            , 37455.5f
            , 37259.27f
            , 37149.55f
            , 36957.97f
            , 36922.77f
            , 36627.37f
            , 36563.65f
            , 36262.52f
            , 36067.91f
            , 35889.93f
            , 35721.39f
            , 35419.57f
            , 35388.76f
            , 35067.89f
            , 35051.37f
            , 34829.43f
            , 34873.14f
            , 34644.51f
            , 34689.36f
            , 34461.21f
            , 34613.66f
            , 34310.48f
            , 34663.63f
            , 34137.52f
            , 34336.28f
            , 33868.43f
            , 34077.75f
            , 33726.88f
            , 33814.75f
            , 33366.01f
            , 33480.23f
            , 32996.39f
            , 33128.46f
            , 32751.52f
            , 33035.91f
            , 32599.37f
            , 32586.36f
            , 32212.32f
            , 32122.96f
            , 31717.57f
            , 31876.98f
            , 31573.59f
            , 31428.66f
            , 31341.69f
            , 31186.99f
            , 31113.26f
            , 31057.29f
            , 30893.3f
            , 30879.12f
            , 30642.22f
            , 30872.16f
            , 30594.77f
            , 30504.21f
            , 30381.49f
            , 30435.69f
            , 30293.23f
            , 30375.56f
            , 29997.23f
            , 29902.78f
            , 29931.25f
            , 29846.53f
            , 29790.08f
            , 29818.97f
            , 29373.59f
            , 29494.34f
            , 29364.7f
            , 29301.19f
            , 28969.11f
            , 28949.42f
            , 28853.54f
            , 28907.59f
            , 28773.96f
            , 28683.89f
            , 28580.6f
            , 28506.96f
            , 28390.99f
            , 28385.09f
            , 28177.35f
            , 28221.24f
            , 28112.11f
            , 28242.67f
            , 28028.81f
            , 28109.83f
            , 27913.8f
            , 28027.93f
            , 27891.04f
            , 27768.28f
            , 27662.66f
            , 27642.91f
            , 27600.96f
            , 27519.46f
            , 27327f
            , 27439.03f
            , 27314.88f
            , 27294.89f
            , 27018.92f
            , 27174.94f
            , 26895.42f
            , 27064.96f
            , 26815.35f
            , 26801.55f
            , 26616.91f
            , 26732.55f
            , 26564.36f
            , 26551.82f
            , 26378.03f
            , 26397.14f
            , 26379.85f
            , 26272.81f
            , 26228.67f
            , 26151.6f
            , 26052.93f
            , 26152.09f
            , 25987.72f
            , 26115.3f
            , 25919.91f
            , 25933.62f
            , 25732.13f
            , 25701.06f
            , 25733.62f
            , 25690.52f
            , 25581.62f
            , 25494.47f
            , 25488.32f
            , 25467.13f
            , 25400.75f
            , 25433.2f
            , 25303.59f
            , 25290.11f
            , 25142.49f
            , 25100.33f
            , 25103.02f
            , 25088.63f
            , 24918.74f
            , 24790.55f
            , 24846.93f
            , 24791.87f
            , 24770.38f
            , 24766.53f
            , 24585.33f
            , 24630.96f
            , 24558.04f
            , 24570.71f
            , 24568.54f
            , 24381.8f
            , 24398.71f
            , 24433.08f
            , 24232.09f
            , 24276.06f
            , 24152.28f
            , 24212.87f
            , 24039.8f
            , 24090.29f
            , 24022.65f
            , 23951.87f
            , 23931.92f
            , 23948.05f
            , 23863.42f
            , 23907.45f
            , 23745.11f
            , 23661.06f
            , 23666.79f
            , 23752.71f
            , 23593.21f
            , 23486.38f
            , 23515.62f
            , 23576.28f
            , 23384.83f
            , 23317.31f
            , 23383.63f
            , 23334.38f
            , 23348.27f
            , 23262.82f
            , 23259.25f
            , 23235.75f
            , 23060.51f
            , 23124.98f
            , 23064.33f
            , 23152.97f
            , 23103.15f
            , 22931.19f
            , 22902.81f
            , 22937.99f
            , 22836.35f
            , 22799.3f
            , 22849.1f
            , 22696.59f
            , 22714.92f
            , 22897.79f
            , 22602.78f
            , 22616.46f
            , 22705.39f
            , 22570.2f
            , 22591.49f
            , 22473.53f
            , 22381.22f
            , 22430.22f
            , 22444.91f
            , 22339.51f
            , 22421.91f
            , 22249.21f
            , 22159.98f
            , 22292.69f
            , 22138.82f
            , 22210.75f
            , 22260.94f
            , 22186.96f
            , 22083.45f
            , 22117.88f
            , 21966.66f
            , 22011.13f
            , 22038.4f
            , 21980.2f
            , 21889.36f
            , 21833.68f
            , 21807.42f
            , 21808.86f
            , 21808.89f
            , 21769.71f
            , 21708.7f
            , 21802.66f
            , 21632.58f
            , 21768.57f
            , 21676.99f
            , 21594.96f
            , 21534.29f
            , 21615.29f
            , 21520f
            , 21551.92f
            , 21448.52f
            , 21393.9f
            , 21379.97f
            , 21352.97f
            , 21372.46f
            , 21336.48f
            , 21257.12f
            , 21338.1f
            , 21150.99f
            , 21250.08f
            , 21181.05f
            , 21262.25f
            , 21163.25f
            , 21095.11f
            , 21052.79f
            , 21093.75f
            , 21009.25f
            , 21045.57f
            , 20946.76f
            , 21171.23f
            , 20905.06f
            , 20947.96f
            , 20952.22f
            , 20959.65f
            , 20802.91f
            , 20847.23f
            , 20822.3f
            , 20776.47f
            , 20741.15f
            , 20748.52f
            , 20763.97f
            , 20683.72f
            , 20764.14f
            , 20681.45f
            , 20602.07f
            , 20571.46f
            , 20486.23f
            , 20524.87f
            , 20415.06f
            , 20460.87f
            , 20458.82f
            , 20382.39f
            , 20425.4f
            , 20397.61f
            , 20497.91f
            , 20442.55f
            , 20302.88f
            , 20287.57f
            , 20290.54f
            , 20259.15f
            , 20306.04f
            , 20117.69f
            , 20303.34f
            , 20134.36f
            , 20228.78f
            , 20167.15f
            , 20113.32f
            , 20174.27f
            , 20054.25f
            , 20064.01f
            , 19990.75f
            , 20001.69f
            , 19979.69f
            , 20026.6f
            , 19874.28f
            , 19982.85f
            , 19906.59f
            , 19948.48f
            , 19883.8f
            , 19915.31f
            , 19777.25f
            , 19747.55f
            , 19894.48f
            , 19692.75f
            , 19796.19f
            , 19598.8f
            , 19659.77f
            , 19644.67f
            , 19656.79f
            , 19650.08f
            , 19634.25f
            , 19516.54f
            , 19517.88f
            , 19458.32f
            , 19479.65f
            , 19453.48f
            , 19479.69f
            , 19500.56f
            , 19478.42f
            , 19462.04f
            , 19386.87f
            , 19404.09f
            , 19389.13f
            , 19275.61f
            , 19416.57f
            , 19262.01f
            , 19262.92f
            , 19391.58f
            , 19278.5f
            , 19234f
            , 19317.22f
            , 19244.72f
            , 19123.88f
            , 18992.95f
            , 19126.05f
            , 19127.63f
            , 19138.95f
            , 19144.16f
            , 19006.2f
            , 19047.42f
            , 18975.4f
            , 19055.64f
            , 18847.91f
            , 18988.06f
            , 19023.22f
            , 18974.64f
            , 18984.62f
            , 18925.2f
            , 18828.09f
            , 18827.05f
            , 18945.06f
            , 18857.03f
            , 18755.13f
            , 18916.38f
            , 18786.54f
            , 18840.23f
            , 18734.5f
            , 18777.55f
            , 18738.38f
            , 18763.14f
            , 18663.43f
            , 18698.33f
            , 18672.13f
            , 18595.93f
            , 18603.16f
            , 18590.13f
            , 18570.64f
            , 18601.08f
            , 18571.58f
            , 18542.35f
            , 18512.14f
            , 18460.82f
            , 18513.93f
            , 18418.84f
            , 18469.44f
            , 18438.76f
            , 18270.53f
            , 18293.37f
            , 18405.64f
            , 18303.22f
            , 18449.74f
            , 18301.47f
            , 18252.44f
            , 18320.37f
            , 18364.08f
            , 18175.99f
            , 18310.88f
            , 18308.95f
            , 18249.49f
            , 18106.43f
            , 18106.12f
            , 18242.18f
            , 18207.9f
            , 18106.15f
            , 18157.95f
            , 18160.95f
            , 18081.63f
            , 18020.55f
            , 18136.61f
            , 18154.1f
            , 18034.97f
            , 18011.03f
            , 18069.53f
            , 17961.54f
            , 17973.76f
            , 17960.63f
            , 17944.22f
            , 17957.88f
            , 17942.3f
            , 17881.86f
            , 17918.31f
            , 17851.37f
            , 17939.25f
            , 17862.38f
            , 17834.39f
            , 17851.9f
            , 17827.12f
            , 17775.82f
            , 17824.45f
            , 17777.94f
            , 17792.4f
            , 17733.27f
            , 17795.88f
            , 17659.53f
            , 17695.47f
            , 17664.48f
            , 17712.44f
            , 17741.49f
            , 17656.61f
            , 17609.21f
            , 17677.06f
            , 17578.36f
            , 17646.44f
            , 17579.78f
            , 17596.25f
            , 17445.21f
            , 17553.27f
            , 17632.07f
            , 17654.2f
            , 17503.92f
            , 17481.73f
            , 17457.02f
            , 17445.96f
            , 17458.4f
            , 17474.79f
            , 17431.33f
            , 17438.99f
            , 17397.05f
            , 17318.81f
            , 17263.37f
            , 17328.2f
            , 17363.68f
            , 17390.67f
            , 17410.85f
            , 17225.23f
            , 17327.11f
            , 17272.88f
            , 17221.28f
            , 17283.02f
            , 17246.17f
            , 17196.74f
            , 17106.06f
            , 17138.89f
            , 17190.3f
            , 17112.79f
            , 17160.32f
            , 17174.29f
            , 17135.92f
            , 17180.79f
            , 17086.31f
            , 17109.83f
            , 17031.49f
            , 17120.93f
            , 17085.48f
            , 17021.96f
            , 17059.24f
            , 17098.85f
            , 17033.7f
            , 16945.39f
            , 17007.35f
            , 16873.51f
            , 16937.98f
            , 16974.27f
            , 16932.01f
            , 16958.61f
            , 16880.03f
            , 16919.09f
            , 16948.78f
            , 16934.41f
            , 16893.44f
            , 16791.61f
            , 16825.07f
            , 16794.59f
            , 16748.81f
            , 16744.8f
            , 16792.7f
            , 16901.54f
            , 16817.1f
            , 16806.89f
            , 16793.96f
            , 16703.77f
            , 16710.36f
            , 16728.71f
            , 16741.68f
            , 16692.96f
            , 16632.96f
            , 16665.14f
            , 16684.09f
            , 16730.07f
            , 16674.36f
            , 16592.03f
            , 16739.42f
            , 16656.94f
            , 16739.08f
            , 16554.13f
            , 16557.65f
            , 16530.88f
            , 16715.78f
            , 16595.69f
            , 16718.8f
            , 16533.86f
            , 16446.31f
            , 16608.5f
            , 16434.86f
            , 16398.4f
            , 16406.65f
            , 16442.51f
            , 16486.71f
            , 16345.62f
            , 16472.8f
            , 16413.63f
            , 16450.16f
            , 16409.7f
            , 16312.22f
            , 16513.85f
            , 16293.32f
            , 16269.44f
            , 16416.07f
            , 16358.96f
            , 16361.87f
            , 16355.28f
            , 16307.6f
            , 16376.4f
            , 16224.69f
            , 16233.19f
            , 16203.92f
            , 16265.17f
            , 16287.3f
            , 16295.39f
            , 16275.16f
            , 16260.65f
            , 16204.59f
            , 16194.04f
            , 16252.95f
            , 16175.56f
            , 16236.62f
            , 16204.52f
            , 16130.17f
            , 16171.23f
            , 16158.62f
            , 16157.46f
            , 16195.9f
            , 16134.96f
            , 16002.15f
            , 16105.83f
            , 16077.71f
            , 16023.69f
            , 16116.94f
            , 16043.96f
            , 16017.57f
            , 15938.66f
            , 16040.51f
            , 16023.63f
            , 15984.07f
            , 16015.9f
            , 16030.69f
            , 15959.25f
            , 15995.73f
            , 15882.7f
            , 15915.71f
            , 15970.97f
            , 15860f
            , 15913.66f
            , 15891.95f
            , 15884f
            , 15849.84f
            , 15880.85f
            , 15897.5f
            , 15855.31f
            , 15945.87f
            , 15907.19f
            , 15907.19f
            , 15897.69f
            , 15755.5f
            , 15787.29f
            , 15868.38f
            , 15828.26f
            , 15832.71f
            , 15704.94f
            , 15823.5f
            , 15792.13f
            , 15674.66f
            , 15812.01f
            , 15628.29f
            , 15707.93f
            , 15687.81f
            , 15599.45f
            , 15735.09f
            , 15712.51f
            , 15640.09f
            , 15683.83f
            , 15578.18f
            , 15689.97f
            , 15702.74f
            , 15618.92f
            , 15657.25f
            , 15563.56f
            , 15601.24f
            , 15667.47f
            , 15528.67f
            , 15521.61f
            , 15526.61f
            , 15521.97f
            , 15547.95f
            , 15568.71f
            , 15424.7f
            , 15569.97f
            , 15563.33f
            , 15569.3f
            , 15547.07f
            , 15418.77f
            , 15383.6f
            , 15441.03f
            , 15484.94f
            , 15485.13f
            , 15418.57f
            , 15351.99f
            , 15453.99f
            , 15485.12f
            , 15390.78f
            , 15488.71f
            , 15484.35f
            , 15279.68f
            , 15273.32f
            , 15302.55f
            , 15363.17f
            , 15421.63f
            , 15347.93f
            , 15346.31f
            , 15262.72f
            , 15303.53f
            , 15304.63f
            , 15308.21f
            , 15285.67f
            , 15153.59f
            , 15286.98f
            , 15307.83f
            , 15260.54f
            , 15255.4f
            , 15257.83f
            , 15298.38f
            , 15294.23f
            , 15245.8f
            , 15203.48f
            , 15192.83f
            , 15154.62f
            , 15171.97f
            , 15276.31f
            , 15143.93f
            , 15123.11f
            , 15082.17f
            , 15146.77f
            , 15183.87f
            , 15226.47f
            , 15143.56f
            , 15052.4f
            , 15151.81f
            , 15065.3f
            , 15125.5f
            , 15083.44f
            , 15081.77f
            , 15088.85f
            , 15173.51f
            , 15116.1f
            , 15137.08f
            , 15049.94f
            , 15065.47f
            , 15019.29f
            , 15051.85f
            , 15083.12f
            , 15127.07f
            , 14922.37f
            , 15055f
            , 14999.92f
            , 15014.28f
            , 15005.26f
            , 14914.54f
            , 15080.89f
            , 14932.91f
            , 15015.76f
            , 15003.6f
            , 14875.23f
            , 14933.35f
            , 14931.83f
            , 14915.16f
            , 14917.81f
            , 14910.01f
            , 14955.96f
            , 14845.08f
            , 14989.62f
            , 14997.5f
            , 14756.79f
            , 14868.17f
            , 14886.73f
            , 14814.35f
            , 14813.97f
            , 14850.58f
            , 14837.49f
            , 14828.95f
            , 14884.73f
            , 14737.45f
            , 14789.5f
            , 14873.57f
            , 14837.18f
            , 14791.56f
            , 14715.85f
            , 14762.14f
            , 14741.51f
            , 14752.06f
            , 14793.82f
            , 14777.4f
            , 14783.39f
            , 14741.14f
            , 14752.19f
            , 14704.02f
            , 14714.38f
            , 14682.09f
            , 14861.49f
            , 14729.52f
            , 14698.03f
            , 14659.42f
            , 14668.92f
            , 14647.62f
            , 14623.49f
            , 14682.01f
            , 14661.26f
            , 14665.04f
            , 14637.92f
            , 14789.08f
            , 14648.85f
            , 14679.79f
            , 14565.14f
            , 14747.15f
            , 14605.44f
            , 14544.79f
            , 14535.07f
            , 14643.72f
            , 14520.96f
            , 14690.23f
            , 14471.88f
            , 14486.64f
            , 14560.44f
            , 14549.23f
            , 14477.24f
            , 14591.37f
            , 14536.77f
            , 14600.38f
            , 14559.17f
            , 14493.93f
            , 14518.78f
            , 14445.34f
            , 14504.54f
            , 14485.42f
            , 14468.31f
            , 14573.97f
            , 14574.94f
            , 14479.14f
            , 14551.46f
            , 14517.08f
            , 14515.71f
            , 14441.98f
            , 14496.78f
            , 14402.53f
            , 14445.33f
            , 14249.49f
            , 14452.11f
            , 14399.26f
            , 14349.49f
            , 14315.26f
            , 14451.44f
            , 14354.01f
            , 14401.14f
            , 14317.24f
            , 14469.38f
            , 14432.36f
            , 14324.18f
            , 14324.45f
            , 14222.59f
            , 14314.93f
            , 14319.58f
            , 14317.93f
            , 14381.72f
            , 14333.22f
            , 14299.53f
            , 14255.25f
            , 14304.7f
            , 14210.37f
            , 14313.75f
            , 14190.03f
            , 14340.89f
            , 14326.93f
            , 14292.99f
            , 14218.54f
            , 14276.23f
            , 14305.47f
            , 14087.62f
            , 14227.14f
            , 14186.02f
            , 14307.38f
            , 14192.89f
            , 14254.65f
            , 14117.48f
            , 14114.55f
            , 14190.66f
            , 14127.08f
            , 14202.53f
            , 14115.22f
            , 14110.04f
            , 14169.76f
            , 14183.91f
            , 14213.99f
            , 14135.38f
            , 14307.27f
            , 14151.07f
            , 14247.21f
            , 14247.82f
            , 14160.89f
            , 14092.18f
            , 14134.49f
            , 14154.67f
            , 13978.29f
            , 14110.91f
            , 14041.36f
            , 14057.51f
            , 14041.1f
            , 13978.2f
            , 13928.91f
            , 14158.01f
            , 14096.85f
            , 14075.02f
            , 14068.07f
            , 14036.96f
            , 13948.55f
            , 14029.84f
            , 13936.09f
            , 14050.9f
            , 13960.34f
            , 13944.78f
            , 14107.04f
            , 14027.6f
            , 13980.19f
            , 14054.4f
            , 14051.42f
            , 13986.07f
            , 14007.67f
            , 13921.44f
            , 14030.52f
            , 13962.18f
            , 13930.02f
            , 13983.16f
            , 13896.22f
            , 13918.75f
            , 13957.81f
            , 13926.86f
            , 13927.09f
            , 13873.17f
            , 13968.72f
            , 14000.83f
            , 13886.68f
            , 13922.93f
            , 13891.73f
            , 13973.32f
            , 13912.47f
            , 13797.48f
            , 13795.6f
            , 13915.27f
            , 13857.48f
            , 13827.41f
            , 13811.48f
            , 13697.03f
            , 13813.18f
            , 13742.23f
            , 13914.65f
            , 13891.09f
            , 13779.09f
            , 13811.02f
            , 13752.05f
            , 13766.94f
            , 13753.62f
            , 13762.17f
            , 13770.78f
            , 13787.92f
            , 13727.8f
            , 13873.15f
            , 13783.49f
            , 13776.89f
            , 13848.23f
            , 13740.62f
            , 13803.26f
            , 13654.52f
            , 13815.91f
            , 13790.28f
            , 13786.43f
            , 13804.32f
            , 13677.53f
            , 13798.23f
            , 13772.14f
            , 13605.98f
            , 13692.9f
            , 13784.2f
            , 13666.29f
            , 13644.87f
            , 13742.57f
            , 13634.49f
            , 13650.09f
            , 13688.49f
            , 13728.02f
            , 13603.91f
            , 13596.1f
            , 13616.54f
            , 13628.95f
            , 13604.44f
            , 13642.38f
            , 13614.7f
            , 13563.17f
            , 13670.66f
            , 13643.41f
            , 13663.83f
            , 13632.4f
            , 13626.3f
            , 13627.27f
            , 13521.4f
            , 13559.18f
            , 13649.32f
            , 13601.51f
            , 13645.71f
            , 13555.71f
            , 13570.19f
            , 13629.84f
            , 13628.07f
            , 13497.41f
            , 13508.04f
            , 13479.75f
            , 13619.95f
            , 13508.02f
            , 13502.32f
            , 13611.45f
            , 13523.08f
            , 13584.22f
            , 13541.43f
            , 13580.15f
            , 13522.54f
            , 13509.84f
            , 13526.08f
            , 13556.24f
            , 13508.52f
            , 13474.85f
            , 13610.25f
            , 13434.26f

        };

        [TestMethod]
        public void TestMethod1()
        {
            foreach (var f in LowPass(_data, 1f))
            {
                Console.WriteLine(f);
            }
        }

        public static float[] LowPass(float[] data, float momentum)
        {
            float[] res = new float[data.Length];

            res[0] = data[0];
            for (var i = 1; i < res.Length; i++)
            {
                res[i] = res[i - 1] + momentum * (data[i] - res[i - 1]);
            }
            return res;
        }
    }
}
